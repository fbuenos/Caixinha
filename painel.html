<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <title>Meu Painel de Respostas</title>
    <style>
        body { font-family: sans-serif; background: #fafafa; padding: 20px; }
        .container { max-width: 500px; margin: auto; }
        .pergunta-card { 
            background: white; 
            padding: 15px; 
            border-radius: 10px; 
            margin-bottom: 10px; 
            border-left: 5px solid #e1306c;
            box-shadow: 0 2px 5px rgba(0,0,0,0.05);
        }
        small { color: #888; font-size: 0.8rem; }
    </style>
</head>
<body>
    <div class="container">
        <h1>Perguntas Recebidas</h1>
        <div id="lista-perguntas">Carregando perguntas...</div>
    </div>

    <script type="module">
        import { initializeApp } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-app.js";
        import { getFirestore, collection, query, orderBy, onSnapshot } from "https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore.js";

        // COLOQUE AQUI O MESMO firebaseConfig QUE VOCÊ USOU NO INDEX.HTML

const firebaseConfig = {
  apiKey: "AIzaSyBBlFPd-O1oZT3y_GhhgYDnma6WCb55Q-0",
  authDomain: "caixinha-do-telegrave.firebaseapp.com",
  projectId: "caixinha-do-telegrave",
  storageBucket: "caixinha-do-telegrave.firebasestorage.app",
  messagingSenderId: "125012090050",
  appId: "1:125012090050:web:ffbf77c6a517adb83fef5b",
  measurementId: "G-J7D103QPBJ"
};

        const app = initializeApp(firebaseConfig);
        const db = getFirestore(app);

        // Função para listar perguntas em tempo real
        const q = query(collection(db, "perguntas"), orderBy("data", "desc"));
        onSnapshot(q, (snapshot) => {
            const lista = document.getElementById('lista-perguntas');
            lista.innerHTML = "";
            snapshot.forEach((doc) => {
                const item = doc.data();
                const dataFormatada = item.data ? new Date(item.data.seconds * 1000).toLocaleString() : "Agora";
                lista.innerHTML += `
                    <div class="pergunta-card">
                        <p>${item.conteudo}</p>
                        <small>${dataFormatada}</small>
                    </div>
                `;
            });
        });
    </script>
</body>
</html>
